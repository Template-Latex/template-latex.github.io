(function(){(function(f,e,b,c){var d,a;d=function(g){var h;h={position:"bottom right",content:" ",delay:3000,sticky:false,inEffect:"fadeIn",outEffect:"fadeOut",theme:"default",themeTemplate:null,closeOnClick:true,closeButton:false,clearAll:false,cssanimationIn:false,cssanimationOut:false,beforeStart:function(){},afterEnd:function(){},onClick:function(){},wrapper:".amaran-wrapper"};this.config=f.extend({},h,g);this.config.beforeStart();this.init();this.close()};d.prototype={init:function(){var l,g,k,i,h,j,n,m;n=null;m=null;k=this.config.position.split(" ");if(!f(this.config.wrapper).length){n=f("<div>",{"class":this.config.wrapper.substr(1,this.config.wrapper.length)+" "+this.config.position}).appendTo("body");h=f("<div>",{"class":"amaran-wrapper-inner"}).appendTo(n)}else{if(!f(this.config.wrapper).hasClass(this.config.position)){n=f("<div>",{"class":this.config.wrapper.substr(1,this.config.wrapper.length)+" "+this.config.position}).appendTo("body");h=f("<div>",{"class":"amaran-wrapper-inner"}).appendTo(n)}else{n=f(this.config.wrapper+"."+k[0]+"."+k[1]);h=n.find(".amaran-wrapper-inner")}}if(typeof this.config.content==="object"){if(this.config.themeTemplate!=null){j=this.config.themeTemplate(this.config.content)}else{j=a[this.config.theme.split(" ")[0]+"Theme"](this.config.content)}}else{this.config.content={};this.config.content.message=this.config.message;this.config.content.color="#27ae60";j=a.defaultTheme(this.config.content)}l={"class":(this.config.themeTemplate?"amaran "+this.config.content.themeName:(this.config.theme&&!this.config.themeTemplate?"amaran "+this.config.theme:"amaran")),html:(this.config.closeButton?'<span class="amaran-close" data-amaran-close="true"></span>'+j:j)};if(this.config.clearAll){f(".amaran").remove()}i=f("<div>",l).appendTo(h);if(k[0]==="center"){this.centerCalculate(n,h)}this.animation(this.config.inEffect,i,"show");if(this.config.onClick){g=this;f(i).on("click",function(o){if(f(o.target).is(".amaran-close")){o.preventDefault();return}g.config.onClick()})}if(this.config.sticky!==true){this.hideDiv(i)}},centerCalculate:function(k,g){var h,j,i;j=g.find(".amaran").length;i=g.height();h=(k.height()-i)/2;g.find(".amaran:first-child").animate({"margin-top":h},200)},animation:function(i,h,g){if(i==="fadeIn"||i==="fadeOut"){return this.fade(h,g)}if(i==="show"){return this.cssanimate(h,g)}return this.slide(i,h,g)},fade:function(i,h){var g;g=this;if(h==="show"){if(this.config.cssanimationIn){return i.addClass("animated "+this.config.cssanimationIn).show()}else{return i.fadeIn()}}else{if(this.config.cssanimationOut){i.addClass("animated "+this.config.cssanimationOut);i.css({"min-height":0,height:i.outerHeight()});i.animate({opacity:0},function(){i.animate({height:0},function(){g.removeIt(i)})});return}else{i.css({"min-height":0,height:i.outerHeight()});i.animate({opacity:0},function(){i.animate({height:0},function(){g.removeIt(i)})});return}}},removeIt:function(h){var g,i;clearTimeout(this.timeout);h.remove();i=f(this.config.wrapper+"."+this.config.position.split(" ")[0]+"."+this.config.position.split(" ")[1]);g=i.find(".amaran-wrapper-inner");if(this.config.position.split(" ")[0]==="center"){this.centerCalculate(i,g)}this.config.afterEnd()},getWidth:function(g){var h,i;h=g.clone().hide().appendTo("body");i=h.outerWidth()+h.outerWidth()/2;h.remove();return i},getInfo:function(g){var i,h;i=g.offset();h=f(this.config.wrapper).offset();return{t:i.top,l:i.left,h:g.height(),w:g.outerWidth(),wT:h.top,wL:h.left,wH:f(this.config.wrapper).outerHeight(),wW:f(this.config.wrapper).outerWidth()}},getPosition:function(i,j){var k,h,g;k=this.getInfo(i);h=this.config.position.split(" ")[1];g={slideTop:{start:{top:-(k.wT+k.wH+k.h*2)},move:{top:0},hide:{top:-(k.t+(k.h*2))},height:k.h},slideBottom:{start:{top:f(e).height()-k.wH+k.h*2},move:{top:0},hide:{top:f(e).height()-k.wH+k.h*2},height:k.h},slideLeft:{start:{left:(h==="left"?-k.w*1.5:-f(e).width())},move:{left:0},hide:{left:(h==="left"?-k.w*1.5:-f(e).width())},height:k.h},slideRight:{start:{left:(h==="right"?k.w*1.5:f(e).width())},move:{left:0},hide:{left:(h==="right"?k.w*1.5:f(e).width())},height:k.h}};if(g[j]){return g[j]}else{return 0}},slide:function(k,j,i){var h,g;g=this.getPosition(j,k);if(i==="show"){j.show().css(g.start).animate(g.move)}else{h=this;return j.animate(g.hide,function(){j.css({"min-height":0,height:g.height},function(){j.html(" ")})}).animate({height:0},function(){return h.removeIt(j)})}},close:function(){var g;g=this;f("[data-amaran-close]").on("click",function(){g.animation(g.config.outEffect,f(this).closest("div.amaran"),"hide")});if(!this.config.closeOnClick&&this.config.closeButton){g.animation(g.config.outEffect,f(this).parent("div.amaran"),"hide");return}else{if(this.config.closeOnClick){f(".amaran").on("click",function(){g.animation(g.config.outEffect,f(this),"hide")})}}},hideDiv:function(h){var g;g=this;g.timeout=setTimeout((function(){g.animation(g.config.outEffect,h,"hide")}),g.config.delay)}};a={defaultTheme:function(h){var g;g="";if(typeof h.color!=="undefined"){g=h.color}return"<div class='default-spinner'><span style='background-color:"+h.color+"'></span></div><div class='default-message'><span>"+h.message+"</span></div>"},awesomeTheme:function(g){return'<i class="icon '+g.icon+' icon-large"></i><p class="bold">'+g.title+"</p><p><span>"+g.message+'</span><span class="light">'+g.info+"</span></p>"},userTheme:function(g){return'<div class="icon"><img src="'+g.img+'" alt="" /></div><div class="info"><b>'+g.user+"</b>"+g.message+"</div>"},colorfulTheme:function(i){var g,h;if(typeof i.color!=="undefined"){h=i.color}if(typeof i.bgcolor!=="undefined"){g=i.bgcolor}return"<div class='colorful-inner' style='background-color:"+i.bgcolor+";color:"+i.color+"'>"+i.message+"</div>"},tumblrTheme:function(g){return'<div class="title">'+g.title+'</div><div class="content">'+g.message+"</div>"}};f.amaran=function(g){var h;h=new d(g);return h};return f.amaran.close=function(){f(".amaran-wrapper").remove();return false}})(jQuery,window,document)}).call(this);