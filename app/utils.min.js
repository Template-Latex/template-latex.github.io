function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function selectAllText(a){$(a).on("mouseup",function(){let b,c,d=$(this)[0];window.getSelection&&document.createRange?(b=window.getSelection(),""===b.toString()&&window.setTimeout(function(){c=document.createRange();c.selectNodeContents(d);b.removeAllRanges();b.addRange(c)},1)):document.selection&&(b=document.selection.createRange(),""===b.text&&(c=document.body.createTextRange(),c.moveToElementText(d),c.select()))})}
function getRandomColor(){let a="#";for(let b=0;6>b;b++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];return a}function getRandomDarkColor(){let a="#";for(let b=0;6>b;b++)a+="012345678"[Math.floor(9*Math.random())];return a}String.format||(String.format=function(a){let b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(c,d){return"undefined"!==typeof b[d]?b[d]:c})});
function hide_element_id(a){try{document.getElementById(a).style="display:none"}catch(b){console.log("Error al ocultar id: "+a)}}
function throwError(a){console.log(String.format("ERROR[{0}]: {1}",a.code,a.msg));$("#whatsnew").attr("style","display:none");hide_element_id("download-button");hide_element_id("download-button-1file");hide_element_id("whatsnew");hide_element_id("downloadcounter-banner");hide_element_id("template-preview-pdf");let b=$("#main-content-section");b.html(String.format('<div class="tooltip error_msg_1"><div id="errorMsgText">\x3c!--suppress HtmlUnknownTarget --\x3e<img src="res/ui/erroricon.png" alt=""/>{0}</div><div></div></div>',a.msg));
$(".error_msg_1").tooltipster({animation:"grow",content:a.moreinfo,side:"bottom",theme:"tooltipster-borderless"});let c=$(window).height()-$(".page-header").innerHeight();b.css("height",c);$(window).resize(function(){c=$(window).height()-$(".page-header").innerHeight();$("#main-content-section").css("height",c)})}function throwException(a){console.error(a.message)}$.urlParam=function(a){a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?null:decodeURI(a[1])||0};
function notNullUndf(a){return null!==a&&void 0!==a}function pickRandomProperty(a){let b,c=0;for(let d in a)Math.random()<1/++c&&(b=d);return b}function generateID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})}
function loadInitialPopup(){initial_popup.display&&0<initial_popup.content.length&&-1===initial_popup.ignore.indexOf(update_download_counter)&&$.confirm({boxWidth:"35%",buttons:{close:{keys:["enter","escape"],text:"Cerrar"}},closeIcon:!0,content:initial_popup.content,escapeKey:"close",title:initial_popup.title,useBootstrap:!1})}
function loadEncuesta(){if(initial_encuesta.display&&0<initial_encuesta.link.length&&sessionCookie.encuesta){let b=generateID();var a=String.format('<br><form action=""><div class="form-check"><input type="checkbox" class="form-check-input" id="{0}"><label class="form-check-label" for="{0}">No volver a mostrar este mensaje</label></div></form>',b);a=String.format(initial_encuesta.content,initial_encuesta.link,a);$.confirm({boxWidth:"30%",buttons:{close:{keys:["enter","escape"],text:"Cerrar"}},closeIcon:!0,
content:a,escapeKey:"close",icon:"fas fa-chart-bar",onClose:function(){let c=$(String.format("#{0}",b))[0].checked;sessionCookie.encuesta=!c;c&&console.log("Se ha desactivado el mensaje de la encuesta");updateSessionCookie()},title:initial_encuesta.title,useBootstrap:!1})}}Array.prototype.randomElement=function(){return this[Math.floor(Math.random()*this.length)]};
function addDownloadCounter(a){let b=a,c=210;100>a?c=140:1E3<=a<1E4&&(c=230);if(1E3<=a){let d=1;1E4>=a&&(d=10);a=(Math.round(a*d/1E3)/d).toString()+"k"}else a=a.toString();$("#templatestats").html(`
    <svg xmlns="http://www.w3.org/2000/svg" width="98" height="20" role="img" aria-label="Descargas: ${b}">
       <title>Descargas: ${b}</title>
       <linearGradient id="s" x2="0" y2="100%">
          <stop offset="0" stop-color="#bbb" stop-opacity=".1"/>
          <stop offset="1" stop-opacity=".1"/>
       </linearGradient>
       <clipPath id="r">
          <rect width="98" height="20" rx="3" fill="#fff"/>
       </clipPath>
       <g clip-path="url(#r)">
          <rect width="67" height="20" fill="#555"/>
          <rect x="67" width="31" height="20" fill="#4c1"/>
          <rect width="98" height="20" fill="url(#s)"/>
       </g>
       <g fill="#fff" text-anchor="middle" font-family="Verdana,Geneva,DejaVu Sans,sans-serif" text-rendering="geometricPrecision" font-size="110">
          <text aria-hidden="true" x="345" y="150" fill="#010101" fill-opacity=".3" transform="scale(.1)" textLength="${370+c}">Descargas</text>
          <text x="345" y="140" transform="scale(.1)" fill="#fff" textLength="570">Descargas</text>
          <text aria-hidden="true" x="815" y="150" fill="#010101" fill-opacity=".3" transform="scale(.1)" textLength="${c}">${a}</text>
          <text x="815" y="140" transform="scale(.1)" fill="#fff" textLength="${c}">${a}</text>
       </g>
    </svg>`)};
